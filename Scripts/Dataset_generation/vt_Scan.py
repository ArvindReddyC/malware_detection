import requests
import pandas as pd 


# lis = ['627E409D503B923BCF3AF320180C9CCC166F9CE2C90EC17BBC7D46CAD08139B8',
#  '7B127C2A6299DB513EA0C8E13E78CE16BCAC4F759A8B53117663D3877B14B9B8',
#  '9B5C7C2A9BD9EDA32B79944EABE3E8BE062C10360804CBE1B29E9A0F9A0F892A',
#  '8D8CD6F32A95662E2E979371FD9A05E960BFB5C7973E7195D6F5C8E4FA4105BE',
#  '766C9E8A6AA82BF3BD0C9EB9022D770CC1B89AF5142B2B0EDD9A26DA42F13E2C',
#  '327656B04A8E578E94EE6A87958EA7198B165D569E42DB5FA5C9075267A1A1C3',
#  '1476E348ED5C82E8C802859BD14666D6655A1A888C765FA4E3532983534B57B0',
#  'A603CE7BA77DB6E9D39925CA1B76BE4FA48612722012AD2188D295A63B37F5F9',
#  'F9AA0E20B07A7EAB62A7AC60EBB4424E5EA2333B40D50868C6AB3AC2AA27C680',
#  '48C6A908E2F7BFBC41E0881FD4A9F561F56335D55911CC87106EAB043D9C26F4',
#  'F5367AE91FC5FF17CD32F16DA2843DBCB2F7EEAB0A1A3758A6A53ED4A090FB5B',
#  'DF1660FEC1AB56E61A08EDB4C084F702B548A33D3D5E3BEB681830483605CDC3',
#  '4D25C4C517C70EE41643F733B3644469F4418DB6D2CEB79E8009E0884851AAAC',
#  '3893E6279446455A502DECD31A5006C0E0A0793F187749C4229D9254EA8B13B5',
#  '15E6A9FEC1C8D20A705DF8B197DAC785C50C0408463D271B34185A0913846B4F',
#  '778C8338C7FD7F8851DCA5BEC8B88E1F76CEB22F9BAD9054F80835CA3CC3FA10',
#  '29A29F90023FAFD3FB9BC0E7B3ED234B62187EC92A2F34C69974F70BE69DA9D1',
#  '25FBA56F67C17C3709476AAF2A2C127218EC537B8776A83966A42CB9203F7BE1',
#  'CAE5DA8CB7297D947CB231E485463B5BBFD5753AC4A29F3E52A9D5A70D25D032',
#  'A101770BB5F7628C802676AC025B8BED9348F7619A7A9C102789AC439C62A02C',
#  'BA53E3FEA174C26ED67D5DCC62F5AE1B0251FFBF081D77D0AD1B0AE96291C355',
#  '386091C9564273E9719D667193DA79C5D4B7E0DCF86E87C8693A1AD584C55EB5',
#  '2D8C57A3B2BB4FB6877BC4DDF85EF10B7AD129E14275D4EE68576ACE0DC73706',
#  '04FA00F0BDBFA5BD3DA14D1ADDEC68293D1A426CD0133A96D579368A635B05BF',
#  'E68DFE5CCEFC2397B8ABC7797773129B166FBF4956A261FE5C25B45FE5D12FA5',
#  'F7BB97A700F4EDDB837D0C58A41E81A217FAC7D6D6DA3A349C5D67F4F9F54C3C',
#  'A8BC2B4B19D6CEE52868AEB59B902418EE306421EE2EF60A2237554171A4C940',
#  'F887D4FD94BE113AB45028099F0036607F50F595F51857D3D38F75F06083EC56',
#  '58B25A1B8C9180896721979FCBB16EA1613882CCCF0D47C1614138905EE7A288',
#  'F044818631915721366FCD691C344D64518E6A1E68F4683A999ED4074079B5B9',
#  '9E1EA75C0B9EC1B536FE310B6CDE9BBA1771446B4CEE2D206601664AB5BA9DAE',
#  '7D74C72E12D49477D71D5681434182A423E645A96DF8E75B7BD22EF0998DF096',
#  '8AC395F62D6DB8A92DD77776E6CD4115B637EFDCA2048BD364B98A0B8A68BC14',
#  '8BBD4049F949629B5860E3F4A5BC5272E4EB5DABAE985CF3D2F0977B4FBE3AF9',
#  '70BB907D85B454B760288C45D35E1C7B99D0820E6FF25254154168E3BF58A81F',
#  'D68DB73A7D351A9FA9ABD3C23F7237810CD6F0B09F13A897801E549F65E94210',
#  'F4ECC71321074144678293094792D4F2B00B9B298D33F810FCC7D2F099B38BD7',
#  '49F8450E0C8D70572B8381C07975ACF9E6F375C4B5341ACEF306E6E4C0D1B6BF',
#  'A32D1D252CC0BD9B0720245620F5DE8176645DBE02B19D0124D1E5164C3C9FFC',
#  'B63E8AF6B1E40780AB51C8662B9E5D53213D392B246D2AB3A0684BEC7A776C90',
#  '61263539ECA4EF10121BA1A889A34C15AD269684664D25C801E2EA6C81E2E20F',
#  '56A1F3CDF72B32D39DF5FD2F3B963DE5863E149A139BD2F81C47A79E1DE05026',
#  '64E8A1250C0D75042A303EC1C49C9E89CF9D1116331CC53DB26D63E318A42504',
#  '077CDDDD3B2186CC6D1F05AC5B2E428908009D613D4BDAB17946840B833EDB15',
#  '4B33090F1125FC4B1EFB2FFEB313748B3B8DE933BA582CDE522CCAD94FE79854',
#  '7FB1F2EC6652697E505DEB96B5489E00870F29706374B59FBB53374D692E49FD',
#  '7EF4BA1CAF34B00D3E7FE7F73605E7A4DDF66BC05ACAC28FF6B58C2A101A85BA',
#  '02B8ED701C021EB094782A9C3A6CCD0B8F0C7BDD1A7FA839419E4880CD2A7B1F',
#  '61BFCA40FFA03438D65E80223F339202E5FCE3EAEE1B9E53DFBE59F415461E94',
#  'BB49A5ABF028F03FA4E8ED957C0E399D37A6B1F207932D7D99F79A81E61AFC92',
#  '443F48A5E26BE81E09FDDB2D82FC705D2B1077103031A3B293D2A60DD1B88ED7',
#  'ECAB014296C4DC173BD0E395D34CB68B5740BCBDA45D3D3FBE4A3FA75DE8E947',
#  '77642C0E57DE3572CA20F3DBAE0FFF6B1D298D7DA9D98B997BD3A1C480FE261E',
#  '3F0941B9DA1A681108070C7947ACC4B9D4689E847754D9885FAA3254AFECA288',
#  '67C9CEDB816BF6A59BA5A23CF7C312884CF3004861102227D6ECBE0B267DAF08',
#  '6E114DCC240554B615DC82F809F8E2E0B7B7BEE46AFF207CB781D673751B42FB',
#  '1AC7515F8B5B63F306EB91583D4C56925835EE9D0AD44D47C9CDC656F90C1284',
#  'A6503D1634A6AD1CD8CB97A135E9D2864D79B949DF783AF19A857DBEE5E59067',
#  '46E9A45C6E15532CFC448449BF69E203DCCFF17788E2177816891FE265549E9E',
#  '92EABF46F6A08C663CE19CC9D9817A575A6449D49DCCA799A09422F0A3726691',
#  'F0BAE2AA779A3B22466EF7F72B45ECBB5BA5C1D94EBB2A128DDB8CE34D1393FB',
#  '5FF2923A71F3F26C427201B4132076A2302835110EE50CF8ACBB8BDF5FD2AD7E',
#  'D3487AB25A0E2C24996032458FF869EB3743EED39CF7C13E5C1A88084310C718',
#  '5EC52628294EE502D61A1E56608A0183017A59ACE26AE004966BB4CBA6AE9AC4',
#  '2B98F15E4DF22D0DB8C69B4A7626FA8E8F590A80EAF689529FD8323B9B2DFC63',
#  '42C7BBEA16C02A4F463AF9756680D5A5C41F4BDCA9F00D9CCFC1BDAE9B5CAB54',
#  '6F9457784DDEC54803F2CE1EBA858483907F8659FAB6FF2F8637F97511CA069F',
#  'C127BC45218050472643153E04FE92C3E25434EF71C6E9E9748ED150F26B7C3A',
#  'B69AE913E44644CB25A47E4FC09B0074AA2B9DFAD7C42410F22D50E9171F6FD1',
#  'EFC294A4BDCB0B5E95E70089B4C8AB606CB1880E524996DA5AABBCCEE519C25A',
#  '755B208A4C9B8F6780B1275E9F4D47430B101A553859B356801FA1865188F01D',
#  'F40B5656D07E6DBC1D86742345B96A2A9C4F6DF9103487614016F7AA3EEB49F1',
#  '2F60BB5DB1114E4CAF50131F814119E7DED68FE1D7FFA7699BCC62D84D4C9231']


# hasese  = pd.read_csv('NoCategoryHases.csv', header=None)

# hasese.columns = ['Hash']

# sampled = hasese.sample(n = 100, random_state=1)

# print(sampled.head(5))
# hashList = sampled['Hash'].tolist()

keys_df = pd.read_csv( '/Users/arvindchandrasekarreddy/Desktop/AndroidMalwareDetection/Files/List_of_SHAKEYS.csv' , index_col = 0  )

lis = keys_df['keys'].to_list()
url = 'https://www.virustotal.com/vtapi/v2/file/report'

# params = 

dict_ = { }

for  i in range(0,len(lis),1):  
    params['resource'] = lis[i]
    response = requests.get(url, params=params)
    dict_[lis[i]] = [response.json()['positives']]

print(dict_)
pd.DataFrame.from_dict(dict_, orient='index').to_csv('vt_scan_reports.csv')

